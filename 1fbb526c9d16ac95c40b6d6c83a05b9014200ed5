{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "b7dd38b8_a4a4df84",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/SourceConfigParser.java",
        "patchSetId": 1
      },
      "lineNbr": 89,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-12-15T10:46:58Z",
      "side": 1,
      "message": "Unfortunately, the push replication and pull replication configs are tightly coupled (see my explanation on [1], if you haven\u0027t already).\n\nNot having a `fetch` configuration in the `replication.config` might have a side effect on the `push` replication.\n\nI think this change will work, but only when the `url` is also not specified (thanks to [2]).\n\nIf the URL is not specified, then the `DestinationConfigParser` will ignore the destination, no problem [3].\n\nIf the URL _is_ specified, and the `fetch` is too, the `DestinationConfigParser` will correctly ignore the remote [4], since it is a source configuration, no problem.\n\nIf the URL _is_ specified but the `fetch` isn\u0027t (as this change allows to do), a problem will occur: `DestinationConfigParser` will assume `push \u003d refs/*:refs/*` [5], which is wrong.\n\nCould you please verify, if you haven\u0027t already, that this is the case?\n\nHappy to catch up to clarify things and discuss options.\n\n[1]https://issues.gerritcodereview.com/issues/40015281#comment5\n[2] https://gerrit-review.googlesource.com/c/plugins/pull-replication/+/373627\n[3] https://gerrit.googlesource.com/plugins/replication/+/refs/heads/master/src/main/java/com/googlesource/gerrit/plugins/replication/DestinationConfigParser.java#55\n[4] https://gerrit.googlesource.com/plugins/replication/+/refs/heads/master/src/main/java/com/googlesource/gerrit/plugins/replication/DestinationConfigParser.java#59\n[5] https://gerrit.googlesource.com/plugins/replication/+/refs/heads/master/src/main/java/com/googlesource/gerrit/plugins/replication/DestinationConfigParser.java#71",
      "revId": "1fbb526c9d16ac95c40b6d6c83a05b9014200ed5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}