{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "57e9c822_a2749eb2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-08-31T12:27:31Z",
      "side": 1,
      "message": "A quick view looks very intuitive. How are you thinking to test the metrics generated in the Source? I am interested to know the metrics generated by the logic via `runWithMetrics`",
      "revId": "13c382ce77f74dffbe57042a50d2293ae5fed81a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9ffa149b_2a6916ed",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-08-31T12:40:19Z",
      "side": 1,
      "message": "Missing documentation and tests",
      "revId": "13c382ce77f74dffbe57042a50d2293ae5fed81a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94bd1ba2_98daf2ec",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/FetchOne.java",
        "patchSetId": 9
      },
      "lineNbr": 495,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-08-31T12:27:31Z",
      "side": 1,
      "message": "why in this case and not the rest?",
      "revId": "13c382ce77f74dffbe57042a50d2293ae5fed81a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "63401d53_19be3d28",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/FetchOne.java",
        "patchSetId": 9
      },
      "lineNbr": 495,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-08-31T12:30:53Z",
      "side": 1,
      "message": "The all the other cases I see the `anyRefFailed` set to `true`, therefore means the replication task wasn\u0027t fully successful and it will be retried.",
      "parentUuid": "94bd1ba2_98daf2ec",
      "revId": "13c382ce77f74dffbe57042a50d2293ae5fed81a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "446e883f_2218ebe0",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/FetchOne.java",
        "patchSetId": 9
      },
      "lineNbr": 495,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-08-31T12:32:45Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "63401d53_19be3d28",
      "revId": "13c382ce77f74dffbe57042a50d2293ae5fed81a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "79b9514b_d36e944f",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/ReplicationQueue.java",
        "patchSetId": 9
      },
      "lineNbr": 563,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-08-31T12:27:31Z",
      "side": 1,
      "message": "Why is not this method private?",
      "revId": "13c382ce77f74dffbe57042a50d2293ae5fed81a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0e03ec1d_fccc661d",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/ReplicationQueue.java",
        "patchSetId": 9
      },
      "lineNbr": 563,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-08-31T12:38:50Z",
      "side": 1,
      "message": "It is used from `ReplicationQueueMetrics`",
      "parentUuid": "79b9514b_d36e944f",
      "revId": "13c382ce77f74dffbe57042a50d2293ae5fed81a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d26b9ec_5d7d5ebc",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/Source.java",
        "patchSetId": 9
      },
      "lineNbr": 464,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2023-08-31T12:20:49Z",
      "side": 1,
      "message": "Not sure if i am missing something, but could `queueMetrics.incrementTaskNotScheduled(this);` be written just once outside the try?",
      "range": {
        "startLine": 464,
        "startChar": 14,
        "endLine": 464,
        "endChar": 59
      },
      "revId": "13c382ce77f74dffbe57042a50d2293ae5fed81a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e6858f5b_667685c9",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/Source.java",
        "patchSetId": 9
      },
      "lineNbr": 464,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-08-31T12:29:06Z",
      "side": 1,
      "message": "Whenever the `if()` condition is false and you don\u0027t have any exceptions, the `queueMetrics.incrementTaskNotScheduled(this);` is not invoked.",
      "parentUuid": "7d26b9ec_5d7d5ebc",
      "range": {
        "startLine": 464,
        "startChar": 14,
        "endLine": 464,
        "endChar": 59
      },
      "revId": "13c382ce77f74dffbe57042a50d2293ae5fed81a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9bc6dcaf_87c6d496",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/Source.java",
        "patchSetId": 9
      },
      "lineNbr": 464,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2023-08-31T12:32:55Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "e6858f5b_667685c9",
      "range": {
        "startLine": 464,
        "startChar": 14,
        "endLine": 464,
        "endChar": 59
      },
      "revId": "13c382ce77f74dffbe57042a50d2293ae5fed81a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "de8c459b_eea1b961",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/UpdateHeadTask.java",
        "patchSetId": 9
      },
      "lineNbr": 72,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2023-08-31T12:42:31Z",
      "side": 1,
      "message": "Can this lead to tasks that never complete in case the IOE is thrown? So that `hasCompleted` always returns false? I am missing a bit of context tbh...",
      "range": {
        "startLine": 72,
        "startChar": 6,
        "endLine": 72,
        "endChar": 27
      },
      "revId": "13c382ce77f74dffbe57042a50d2293ae5fed81a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c928a23b_d65a6468",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/UpdateHeadTask.java",
        "patchSetId": 9
      },
      "lineNbr": 72,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-08-31T13:43:35Z",
      "side": 1,
      "message": "You are right, `complete` should be renamed to `succeeded`.\n\nThe tasks either are successful or not successful: by default they are unsuccessful until their main business login completes without exception.",
      "parentUuid": "de8c459b_eea1b961",
      "range": {
        "startLine": 72,
        "startChar": 6,
        "endLine": 72,
        "endChar": 27
      },
      "revId": "13c382ce77f74dffbe57042a50d2293ae5fed81a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}