{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "b04b3be3_d3790642",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-10-16T11:41:07Z",
      "side": 1,
      "message": "For those who reviewed the change 383734 I have created this change to allow us focusing in the use `ProjectInitializationAction` as HttpServlet instead of a service class.\n\nSome people might disagree that `ProjectInitializationAction` should not be servlet anymore.",
      "revId": "60d4fe5eb7c787e0ed5ff41142078991e4c5545c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4419fabd_47154695",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-10-16T21:05:55Z",
      "side": 1,
      "message": "LGTM, feel free to merge once the comments are addressed.",
      "revId": "60d4fe5eb7c787e0ed5ff41142078991e4c5545c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "40224cdd_7da7bb08",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/api/ProjectInitializationAction.java",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2023-10-16T13:55:31Z",
      "side": 1,
      "message": "Do you remember why this is `HttpServlet` instead of `RestModifyView` like we have in other actions, for example https://gerrit.googlesource.com/plugins/pull-replication/+/refs/heads/stable-3.6/src/main/java/com/googlesource/gerrit/plugins/replication/pull/api/ApplyObjectAction.java#38",
      "range": {
        "startLine": 44,
        "startChar": 49,
        "endLine": 44,
        "endChar": 60
      },
      "revId": "60d4fe5eb7c787e0ed5ff41142078991e4c5545c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef50797a_a9d709ae",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/api/ProjectInitializationAction.java",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-10-16T14:42:23Z",
      "side": 1,
      "message": "I have no idea. Maybe @ponch78@gmail.com or @luca.milanesio@gmail.com can help us.",
      "parentUuid": "40224cdd_7da7bb08",
      "range": {
        "startLine": 44,
        "startChar": 49,
        "endLine": 44,
        "endChar": 60
      },
      "revId": "60d4fe5eb7c787e0ed5ff41142078991e4c5545c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ef8471c0_3832e4e2",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/api/ProjectInitializationAction.java",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-10-16T21:05:55Z",
      "side": 1,
      "message": "Yes, I do. The creation of a project was an existing REST-API in Gerrit primary, but did not exist in replicas. That\u0027s why it was only present as a Servlet and not as a REST-API.\n\nGerrit replicas do not have REST-API module loaded.",
      "parentUuid": "ef50797a_a9d709ae",
      "range": {
        "startLine": 44,
        "startChar": 49,
        "endLine": 44,
        "endChar": 60
      },
      "revId": "60d4fe5eb7c787e0ed5ff41142078991e4c5545c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b6f64858_c35cba4f",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/api/ProjectInitializationAction.java",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2023-10-17T07:54:58Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "ef8471c0_3832e4e2",
      "range": {
        "startLine": 44,
        "startChar": 49,
        "endLine": 44,
        "endChar": 60
      },
      "revId": "60d4fe5eb7c787e0ed5ff41142078991e4c5545c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "98787c6b_a0c9a0af",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/api/ProjectInitializationAction.java",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-10-16T11:41:07Z",
      "side": 1,
      "message": "Can we remove this method? Or do we have old primaries using `put` instead of `post` when `init project` is replicated? Please, @luca.milanesio@gmail.com can you clarify that to me?",
      "revId": "60d4fe5eb7c787e0ed5ff41142078991e4c5545c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aaa5ff12_4f9cec4a",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/api/ProjectInitializationAction.java",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-10-16T15:16:56Z",
      "side": 1,
      "message": "I have seen that in the Gerrit Rest API documentation for create projects that: https://gerrit-documentation.storage.googleapis.com/Documentation/3.6.7/rest-api-projects.html#create-project\nuses a `PUT` verb. So that makes me think that we could need to keep both `POST` and `PUT` verbs.",
      "parentUuid": "98787c6b_a0c9a0af",
      "revId": "60d4fe5eb7c787e0ed5ff41142078991e4c5545c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e077d686_e5a831bb",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/api/ProjectInitializationAction.java",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-10-16T18:16:28Z",
      "side": 1,
      "message": "My previous comment makes no sense. please forget it but I would appreciate some help in the first question",
      "parentUuid": "aaa5ff12_4f9cec4a",
      "revId": "60d4fe5eb7c787e0ed5ff41142078991e4c5545c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c194e2bb_6740a26e",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/api/ProjectInitializationAction.java",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-10-16T21:05:55Z",
      "side": 1,
      "message": "When you create a repository on a Gerrit primary, you use PUT, see [1].\nWe need to keep backward compatibility to manage the rolling upgrades.\n\n[1] https://gerrit-documentation.storage.googleapis.com/Documentation/3.8.2/rest-api-projects.html#create-project",
      "parentUuid": "e077d686_e5a831bb",
      "revId": "60d4fe5eb7c787e0ed5ff41142078991e4c5545c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f3f3c989_d97fde1c",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/api/ProjectInitializationAction.java",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2023-10-16T13:55:31Z",
      "side": 1,
      "message": "can this be private?",
      "range": {
        "startLine": 81,
        "startChar": 17,
        "endLine": 81,
        "endChar": 28
      },
      "revId": "60d4fe5eb7c787e0ed5ff41142078991e4c5545c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b9466ce_389572d2",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/api/ProjectInitializationAction.java",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-10-16T14:42:23Z",
      "side": 1,
      "message": "No, it cannot be, it is used: https://gerrit.googlesource.com/plugins/pull-replication/+/refs/heads/stable-3.6/src/main/java/com/googlesource/gerrit/plugins/replication/pull/event/StreamEventListener.java#150\n\nThe current design is not great because expose the same logic through 2 different APIs. I think we should do a refactoring in a follow-up change.",
      "parentUuid": "f3f3c989_d97fde1c",
      "range": {
        "startLine": 81,
        "startChar": 17,
        "endLine": 81,
        "endChar": 28
      },
      "revId": "60d4fe5eb7c787e0ed5ff41142078991e4c5545c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2afa4606_45f60fd2",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/api/ProjectInitializationAction.java",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-10-16T21:05:55Z",
      "side": 1,
      "message": "Yeah, let\u0027s not make this refactoring bigger.",
      "parentUuid": "4b9466ce_389572d2",
      "range": {
        "startLine": 81,
        "startChar": 17,
        "endLine": 81,
        "endChar": 28
      },
      "revId": "60d4fe5eb7c787e0ed5ff41142078991e4c5545c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56956f9f_d5b4a7e6",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/replication/pull/api/PullReplicationFilterTest.java",
        "patchSetId": 1
      },
      "lineNbr": 180,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-10-16T11:41:07Z",
      "side": 1,
      "message": "I am not happy with the magic numbers but this change is not responsible of refactoring that.",
      "revId": "60d4fe5eb7c787e0ed5ff41142078991e4c5545c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "01c098e4_a199cef7",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/replication/pull/api/PullReplicationFilterTest.java",
        "patchSetId": 1
      },
      "lineNbr": 180,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-10-16T21:05:55Z",
      "side": 1,
      "message": "Do we really need to verify that we call this method? The test should be focused on its expected outcome and NOT in the implementation details.\n\nJust remove L180 IMHO.",
      "parentUuid": "56956f9f_d5b4a7e6",
      "revId": "60d4fe5eb7c787e0ed5ff41142078991e4c5545c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}