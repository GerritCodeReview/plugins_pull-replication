{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7ab73e6e_249f596a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-02-01T23:59:31Z",
      "side": 1,
      "message": "nit: empty line",
      "revId": "d84cc49c1f714aa070cafb15b55ef1e338f1aba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "83bf86d8_b8d63948",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/fetch/CGitFetch.java",
        "patchSetId": 2
      },
      "lineNbr": 101,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-02-01T23:59:31Z",
      "side": 1,
      "message": "It looks like you have also fixed an issue: would it be worth mentioning it on the commit message?",
      "range": {
        "startLine": 100,
        "startChar": 0,
        "endLine": 101,
        "endChar": 66
      },
      "revId": "d84cc49c1f714aa070cafb15b55ef1e338f1aba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "295c9006_dbec7e1e",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/fetch/CGitFetch.java",
        "patchSetId": 2
      },
      "lineNbr": 101,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-02-01T23:59:31Z",
      "side": 1,
      "message": "If pass.getValue() is null, then this will throw an NPE anyway, despite the Strings.isNullOrEmpty()",
      "range": {
        "startLine": 101,
        "startChar": 20,
        "endLine": 101,
        "endChar": 26
      },
      "revId": "d84cc49c1f714aa070cafb15b55ef1e338f1aba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a920cb6d_316cc7cf",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/replication/pull/CGitFetchIT.java",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-02-01T23:59:31Z",
      "side": 1,
      "message": "This would then be set for *ALL* tests and not just the ones with associated credentials: is that what we want?",
      "range": {
        "startLine": 91,
        "startChar": 0,
        "endLine": 92,
        "endChar": 88
      },
      "revId": "d84cc49c1f714aa070cafb15b55ef1e338f1aba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "19a81434_87f89dcd",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/replication/pull/CGitFetchIT.java",
        "patchSetId": 2
      },
      "lineNbr": 112,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-02-01T23:59:31Z",
      "side": 1,
      "message": "Unrelated: this isn\u0027t needed either.",
      "range": {
        "startLine": 112,
        "startChar": 6,
        "endLine": 112,
        "endChar": 62
      },
      "revId": "d84cc49c1f714aa070cafb15b55ef1e338f1aba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8bce329_2b8aeb7c",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/replication/pull/CGitFetchIT.java",
        "patchSetId": 2
      },
      "lineNbr": 123,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-02-01T23:59:31Z",
      "side": 1,
      "message": "All tests are cloning the project + TEST_REPLICATION_SUFFIX: why not moving it to the setUpTestPlugin() method instead?",
      "range": {
        "startLine": 122,
        "startChar": 0,
        "endLine": 123,
        "endChar": 42
      },
      "revId": "d84cc49c1f714aa070cafb15b55ef1e338f1aba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8c638ae_4aab4cec",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/replication/pull/CGitFetchIT.java",
        "patchSetId": 2
      },
      "lineNbr": 124,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-02-01T23:59:31Z",
      "side": 1,
      "message": "I believe we\u0027ve missed the removal of read permissions for anonymous users: the testRepo is still public, therefore we don\u0027t really know if the use of c-git with permissions actually worked or not.\n\nYou should introduce a per-project removal of the read permissions:\n\n  private void blockAnonymousRead(Project.NameKey projectName) throws Exception {\n\t    String allRefs \u003d RefNames.REFS + \"*\";\n\t    projectOperations\n\t        .project(projectName)\n\t        .forUpdate()\n\t        .add(block(Permission.READ).ref(allRefs).group(ANONYMOUS_USERS))\n\t        .add(allow(Permission.READ).ref(allRefs).group(REGISTERED_USERS))\n\t        .update();\n\t  }\n\nThen, for any of the tests that need to use authentication, block the anonymous reads at the start of the test.",
      "revId": "d84cc49c1f714aa070cafb15b55ef1e338f1aba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1da5721a_b258bc99",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/replication/pull/CGitFetchIT.java",
        "patchSetId": 2
      },
      "lineNbr": 136,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-02-01T23:59:31Z",
      "side": 1,
      "message": "Don\u0027t need to wait for anything: the call at L134 is synchronous.",
      "range": {
        "startLine": 136,
        "startChar": 6,
        "endLine": 136,
        "endChar": 62
      },
      "revId": "d84cc49c1f714aa070cafb15b55ef1e338f1aba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3c414346_933a3931",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/replication/pull/CGitFetchIT.java",
        "patchSetId": 2
      },
      "lineNbr": 199,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-02-01T23:59:31Z",
      "side": 1,
      "message": "This test is flaky on my laptop",
      "revId": "d84cc49c1f714aa070cafb15b55ef1e338f1aba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a75422d3_9c30144d",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/replication/pull/CGitFetchIT.java",
        "patchSetId": 2
      },
      "lineNbr": 222,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-02-01T23:59:31Z",
      "side": 1,
      "message": "Randomly, this exception isn\u0027t thrown.",
      "range": {
        "startLine": 216,
        "startChar": 0,
        "endLine": 222,
        "endChar": 85
      },
      "revId": "d84cc49c1f714aa070cafb15b55ef1e338f1aba1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}