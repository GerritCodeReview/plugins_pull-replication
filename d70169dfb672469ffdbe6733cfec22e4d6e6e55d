{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "cb3b78ab_1f95e55c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-03-04T15:09:55Z",
      "side": 1,
      "message": "I was trying to add integration tests but it\u0027s far more complex than the change. I\u0027ve tested manually on local environment ",
      "revId": "d70169dfb672469ffdbe6733cfec22e4d6e6e55d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "80b15650_2456e1be",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/api/FetchCommand.java",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-03-09T15:02:24Z",
      "side": 1,
      "message": "That name looks like a time: why not calling what it is?\nIt would also more readable to have an enum called ReplicationType { SYNC, ASYNC } rather than a boolean.",
      "range": {
        "startLine": 53,
        "startChar": 80,
        "endLine": 53,
        "endChar": 83
      },
      "revId": "d70169dfb672469ffdbe6733cfec22e4d6e6e55d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ea531267_bc93ce33",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/api/FetchCommand.java",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-03-10T16:48:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "80b15650_2456e1be",
      "range": {
        "startLine": 53,
        "startChar": 80,
        "endLine": 53,
        "endChar": 83
      },
      "revId": "d70169dfb672469ffdbe6733cfec22e4d6e6e55d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "70038b57_b4c428cb",
        "filename": "src/main/resources/Documentation/config.md",
        "patchSetId": 2
      },
      "lineNbr": 301,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-03-09T15:02:24Z",
      "side": 1,
      "message": "Have you checked if 1 second is enough? How the events are coming through? What is the average lag between them?\n\nP.S. I believe here the use-case is the creation of a new change or a new patch-set, isn\u0027t it? Where the new patch-set ref and the meta-ref need to be put into the same async replication API call.",
      "range": {
        "startLine": 301,
        "startChar": 36,
        "endLine": 301,
        "endChar": 45
      },
      "revId": "d70169dfb672469ffdbe6733cfec22e4d6e6e55d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "62a38114_17a44903",
        "filename": "src/main/resources/Documentation/config.md",
        "patchSetId": 2
      },
      "lineNbr": 301,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-03-10T16:48:26Z",
      "side": 1,
      "message": "Ok I did some data crunching. I took our replication log from production and checked \"scheduling replication\" - we are logging this line just after getting the git ref update event.\nAverage time between getting the event for patchset and meta ref is: 803 milliseconds, maximum is: 3 seconds and 589 milliseconds.\nThis is the distribution:\nBelow 500 - 80\nBetween 500-1000 - 28\nBetween 1000-1500 - 18\nBetween 1500-2000 - 14\nBetween 2000-2500 - 4\nBetween 2500-3000 - 4\nAbove 3000 - 2\n\nSetting default to 2 sec will cover 144 out of 150.\nWDYT?",
      "parentUuid": "70038b57_b4c428cb",
      "range": {
        "startLine": 301,
        "startChar": 36,
        "endLine": 301,
        "endChar": 45
      },
      "revId": "d70169dfb672469ffdbe6733cfec22e4d6e6e55d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "38af8afa_83f1309c",
        "filename": "src/main/resources/Documentation/config.md",
        "patchSetId": 2
      },
      "lineNbr": 301,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-03-10T16:51:17Z",
      "side": 1,
      "message": "Sorry 140 out of 150. We should try to set as low number as possible to make sure that we are not delaying all the system because of some edge cases",
      "parentUuid": "62a38114_17a44903",
      "range": {
        "startLine": 301,
        "startChar": 36,
        "endLine": 301,
        "endChar": 45
      },
      "revId": "d70169dfb672469ffdbe6733cfec22e4d6e6e55d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b00d704d_7e655005",
        "filename": "src/main/resources/Documentation/config.md",
        "patchSetId": 2
      },
      "lineNbr": 301,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-03-10T20:02:43Z",
      "side": 1,
      "message": "I would put something that would cover *for sure* all the events. Shall we go with 4 seconds?",
      "parentUuid": "38af8afa_83f1309c",
      "range": {
        "startLine": 301,
        "startChar": 36,
        "endLine": 301,
        "endChar": 45
      },
      "revId": "d70169dfb672469ffdbe6733cfec22e4d6e6e55d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "747b552a_b52f9271",
        "filename": "src/main/resources/Documentation/config.md",
        "patchSetId": 2
      },
      "lineNbr": 301,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-03-11T08:42:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b00d704d_7e655005",
      "range": {
        "startLine": 301,
        "startChar": 36,
        "endLine": 301,
        "endChar": 45
      },
      "revId": "d70169dfb672469ffdbe6733cfec22e4d6e6e55d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b932a760_c1b2f075",
        "filename": "src/main/resources/Documentation/config.md",
        "patchSetId": 2
      },
      "lineNbr": 302,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-03-09T15:02:24Z",
      "side": 1,
      "message": "is zero.",
      "range": {
        "startLine": 302,
        "startChar": 18,
        "endLine": 302,
        "endChar": 29
      },
      "revId": "d70169dfb672469ffdbe6733cfec22e4d6e6e55d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1f940351_703e0e26",
        "filename": "src/main/resources/Documentation/config.md",
        "patchSetId": 2
      },
      "lineNbr": 302,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2021-03-10T16:48:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b932a760_c1b2f075",
      "range": {
        "startLine": 302,
        "startChar": 18,
        "endLine": 302,
        "endChar": 29
      },
      "revId": "d70169dfb672469ffdbe6733cfec22e4d6e6e55d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}