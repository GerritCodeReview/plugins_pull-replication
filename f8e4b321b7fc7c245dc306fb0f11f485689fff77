{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "4d01c1c2_ca1ef85f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-12-07T16:21:37Z",
      "side": 1,
      "message": "Nice üëç",
      "revId": "f8e4b321b7fc7c245dc306fb0f11f485689fff77",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a6084aaa_558ebe56",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/ReplicationQueueMetrics.java",
        "patchSetId": 1
      },
      "lineNbr": 187,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-12-10T21:05:16Z",
      "side": 1,
      "message": "Isn\u0027t the unit `refs` as opposed to `tasks`?",
      "range": {
        "startLine": 187,
        "startChar": 29,
        "endLine": 187,
        "endChar": 34
      },
      "revId": "f8e4b321b7fc7c245dc306fb0f11f485689fff77",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e5f2534_e36827dc",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/ReplicationQueueMetrics.java",
        "patchSetId": 1
      },
      "lineNbr": 315,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-12-10T21:05:16Z",
      "side": 1,
      "message": "When fetching all refs, this will be counted as `1` (there will only be the `..all..` placeholder.\nIs this the intended behaviour? if so, it should be documented WDYT?",
      "range": {
        "startLine": 315,
        "startChar": 65,
        "endLine": 315,
        "endChar": 75
      },
      "revId": "f8e4b321b7fc7c245dc306fb0f11f485689fff77",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2c15a45f_7ad6a4d1",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/ReplicationQueueMetrics.java",
        "patchSetId": 1
      },
      "lineNbr": 324,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2023-12-08T11:25:08Z",
      "side": 1,
      "message": "nit: This could maybe be written like this to avoid some repetition:\n\n```\nprivate void incrementFetchRefsCounter(\n    Source source, Runnable runnableTask, Counter1\u003cString\u003e counter) {\n  if (runnableTask instanceof FetchOne) {\n    counter.incrementBy(\n        source.getRemoteConfigName(), ((FetchOne) runnableTask).getRefs().size());\n  }\n}\n\npublic void incrementFetchRefsStarted(Source source, Runnable runnableTask) {\n  incrementFetchRefsCounter(source, runnableTask, refsFetchStarted);\n}\n\npublic void incrementFetchRefsCompleted(Source source, Runnable runnableTask) {\n  incrementFetchRefsCounter(source, runnableTask, refsFetchCompleted);\n}\n\npublic void incrementFetchRefsFailed(Source source, Runnable runnableTask) {\n  incrementFetchRefsCounter(source, runnableTask, refsFetchFailed);\n}\n```\n\nI didn\u0027t test it :P",
      "range": {
        "startLine": 305,
        "startChar": 0,
        "endLine": 324,
        "endChar": 3
      },
      "revId": "f8e4b321b7fc7c245dc306fb0f11f485689fff77",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b5066ff_0cabc8fa",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/pull/Source.java",
        "patchSetId": 1
      },
      "lineNbr": 693,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2023-12-08T11:25:08Z",
      "side": 1,
      "message": "Should we consider this as a fetch failure? We are bailing out so the fetch is not happening.",
      "revId": "f8e4b321b7fc7c245dc306fb0f11f485689fff77",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "144932a3_5d7b04bc",
        "filename": "src/main/resources/Documentation/metrics.md",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-12-07T16:21:37Z",
      "side": 1,
      "message": "We should also mention the difference between this metric and the task metrics.",
      "revId": "f8e4b321b7fc7c245dc306fb0f11f485689fff77",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5364eb36_77942898",
        "filename": "src/main/resources/Documentation/metrics.md",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-12-07T16:21:37Z",
      "side": 1,
      "message": "We should explain why the metric does not make sense for apply-object, as otherwise users can misunderstand what it tracks.",
      "revId": "f8e4b321b7fc7c245dc306fb0f11f485689fff77",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97df1017_a473d8f6",
        "filename": "src/main/resources/Documentation/metrics.md",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2023-12-08T11:25:08Z",
      "side": 1,
      "message": "I\u0027d say `Cumulative number of refs`",
      "revId": "f8e4b321b7fc7c245dc306fb0f11f485689fff77",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e52a93c_29b3cc15",
        "filename": "src/main/resources/Documentation/metrics.md",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 1157810
      },
      "writtenOn": "2023-12-07T16:21:37Z",
      "side": 1,
      "message": "name",
      "range": {
        "startLine": 71,
        "startChar": 54,
        "endLine": 71,
        "endChar": 62
      },
      "revId": "f8e4b321b7fc7c245dc306fb0f11f485689fff77",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c4c577f_dbe248dd",
        "filename": "src/main/resources/Documentation/metrics.md",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-12-10T21:05:16Z",
      "side": 1,
      "message": "represents",
      "range": {
        "startLine": 71,
        "startChar": 21,
        "endLine": 71,
        "endChar": 30
      },
      "revId": "f8e4b321b7fc7c245dc306fb0f11f485689fff77",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b656525_20115aae",
        "filename": "src/main/resources/Documentation/metrics.md",
        "patchSetId": 1
      },
      "lineNbr": 78,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2023-12-08T11:25:08Z",
      "side": 1,
      "message": "nit: Can we add an example of metrics to see what it looks like? It seems we don\u0027t usually do it in this file, but I think it might be useful",
      "revId": "f8e4b321b7fc7c245dc306fb0f11f485689fff77",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}